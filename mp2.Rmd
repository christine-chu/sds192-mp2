---
title: "Mini-Project 2"
author: "Christine"
<<<<<<< HEAD
=======
=======
title: "ChineseDataNerds- miniproject 2"
author: "Yuri Furukawa"
>>>>>>> add36172004010bb18a378e675eb8bc32b66e980
>>>>>>> a3f830882ec2e6b07c7c2f6dae395ec09b631403
date: "October 31, 2017"
output: html_document
--- 


## Loading the data
```{r, include=FALSE}
load("house_elections.rda")
load("candidates.rda")
load("committees.rda")
load("contributions.rda")
library(tidyverse)
library(dplyr)
library(ggplot2)
```

## Initial clean up of the data 
```{r}
contributions1 <- merge(candidates, contributions, by = "cand_id") # merged the candidate dataframe and contribution dataframe by the cand_id to see the name of the candidate

house_elections1 <- rename(house_elections, cand_id = fec_id) # renamed the row 

cont_winner <- contributions1 %>%
  inner_join(house_elections1, by = "cand_id") 


new_cont <- contributions1 %>%
  select(cand_id, cand_name, cand_party_affiliation,  cand_election_yr, cand_office_state , name, transaction_amt) # there are a lot of contributions to the same representative. 

#recoding factors
data <- data %>%
  mutate( var = case_when(
    "REP" = "R",
    "DEM" = "D",
    TRUE - var))

contributions1 %>% group_by(cand_party_affiliation) %>% summarize(num_type = n()) %>% arrange(desc(num_type)) %>% head(4)

cont_winner %>%
  select(cand_id, cand_name, cand_party_affiliation, transaction_amt, ge_winner) %>%
  filter(transaction_amt > 0 ) %>%
  group_by(cand_name) 
  
````